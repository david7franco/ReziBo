{% extends 'base.html' %}
{% load static %}
{% block content %}
<!doctype html>
<meta charset="UTF-8">

<link rel="stylesheet" type="text/css" href="{% static "accounts/trello.css" %}">

<div class="header">
    <h1>ReziBo</h1>
</div>

<div class="container">
    <div class="column columnborders">
        <h2 class="status-heading" data-target="todo-tasks">
            To Do <button class="toggle-button">Toggle</button>
        </h2>
        <ul id="todo-tasks" class="task-list">
            {% for task in tasks %}
                {% if task.status == 1 %}
                    <li class="taskborders">
                     <strong>Title:</strong> {{ task.title }}<br>
                     <strong>Description:</strong> {{ task.description }}
                    </li>
                {% endif %}
                {% empty %}
                    <li>No tasks found for this category.</li>
            {% endfor %}

        </ul>
    </div>
 
 
    <div class="column columnborders">
        <h2 class="status-heading" data-target="in-progress">
            In Progress <button class="toggle-button">Toggle</button>
        </h2>
        <ul id="in-progress" class="task-list">
            {% for task in tasks %}
                {% if task.status == 2 %}
                <li class="taskborders">
                    <strong>Title:</strong> {{ task.title }}<br>
                    <strong>Description:</strong> {{ task.description }}
                </li>
                {% endif %}
                {% empty %}
                    <li>No tasks found for this category.</li>
            {% endfor %}
        </ul>
    </div>
 
 
    <div class="column columnborders">
        <h2 class="status-heading" data-target="on-hold">
            On Hold <button class="toggle-button">Toggle</button>
        </h2>
        <ul id="on-hold" class="task-list">
            {% for task in tasks %}
                {% if task.status == 3 %}
                <li class="taskborders">
                    <strong>Title:</strong> {{ task.title }}<br>
                    <strong>Description:</strong> {{ task.description }}
                </li>
                {% endif %}
                {% empty %}
                    <li>No tasks found for this category.</li>
            {% endfor %}
        </ul>
    </div>
 
 
    <div class="column columnborders">
        <h2 class="status-heading" data-target="done">
            Done <button class="toggle-button">Toggle</button>
        </h2>
        <ul id="done" class="task-list">
            {% for task in tasks %}
                {% if task.status == 4 %}
                <li class="taskborders">
                    <strong>Title:</strong> {{ task.title }}<br>
                    <strong>Description:</strong> {{ task.description }}
                </li>
                {% endif %}
                {% empty %}
                    <li>No tasks found for this category.</li>
            {% endfor %}
        </ul>
    </div>
 </div>
 {% endblock %}
 <script>
    document.addEventListener('DOMContentLoaded', function() {
        const buttons = document.querySelectorAll('.toggle-button');

        buttons.forEach(button => {
            button.addEventListener('click', function() {
                const heading = button.closest('.status-heading');
                const targetId = heading.getAttribute('data-target');
                const tasks = document.getElementById(targetId);
                
                if (tasks.style.display === "none" || tasks.style.display === "") {
                    tasks.style.display = "block";
                } else {
                    tasks.style.display = "none";
                }
            });
        });
    });
</script>
